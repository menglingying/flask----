{% extends "base.html" %}

{% block title %}æµè§ˆæ´»åŠ¨ - å¿—æ„¿è€…{% endblock %}

{% block content %}
<div class="page-header">
    <h1>æµè§ˆå¿—æ„¿æ´»åŠ¨</h1>
</div>

<div class="filter-form">
    <h3>ç­›é€‰æ´»åŠ¨</h3>
    <form method="get" action="{{ url_for('volunteer.events') }}">
        <div class="filter-row">
            <div class="filter-group">
                <label for="location">åœ°ç‚¹</label>
                <select id="location" name="location">
                    <option value="">æ‰€æœ‰åœ°ç‚¹</option>
                    {% for loc in locations %}
                        <option value="{{ loc }}" {% if current_location == loc %}selected{% endif %}>{{ loc }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="filter-group">
                <label for="start_date">å¼€å§‹æ—¥æœŸ</label>
                <input type="date" id="start_date" name="start_date" value="{{ current_start_date }}">
            </div>
            <div class="filter-group">
                <label for="end_date">ç»“æŸæ—¥æœŸ</label>
                <input type="date" id="end_date" name="end_date" value="{{ current_end_date }}">
            </div>
        </div>
        <div class="filter-actions">
            <button type="submit" class="btn primary">ç­›é€‰</button>
            <a href="{{ url_for('volunteer.events') }}" class="btn secondary">é‡ç½®</a>
        </div>
    </form>
</div>

<div class="events-list">
    {% if events %}
        <div class="events-grid">
            {% for event in events %}
                <div class="event-card">
                    <h3>{{ event.name }}</h3>
                    <p class="event-charity">ç”± {{ event.charity_name }} ç»„ç»‡</p>
                    <p class="event-time">
                        <span class="icon">ğŸ“…</span> {{ format_datetime(event.start_time) }} - {{ format_datetime(event.end_time) }}
                    </p>
                    <p class="event-location"><span class="icon">ğŸ“</span> {{ event.location }}</p>
                    <div class="event-description">
                        {{ event.description[:100] }}{% if event.description|length > 100 %}...{% endif %}
                    </div>
                    <a href="{{ url_for('volunteer.event_details', event_id=event.id) }}" class="btn small">æŸ¥çœ‹è¯¦æƒ…</a>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="no-data">æ²¡æœ‰æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„æ´»åŠ¨</p>
    {% endif %}
</div>
{% endblock %}
